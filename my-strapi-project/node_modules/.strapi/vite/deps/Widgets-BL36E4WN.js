import {
  useGetCountDocumentsQuery,
  useGetKeyStatisticsQuery
} from "./chunk-A3JWQWVJ.js";
import "./chunk-FUL477PD.js";
import {
  Widget
} from "./chunk-Z6D6AI2I.js";
import "./chunk-BQHRPIYJ.js";
import "./chunk-3OX6ROE4.js";
import "./chunk-QHO5YGPN.js";
import "./chunk-MYLB7UPN.js";
import "./chunk-TY4OZUVS.js";
import "./chunk-4QGG7VO7.js";
import "./chunk-LJJJTIN7.js";
import "./chunk-OH6ILES7.js";
import "./chunk-QDEIEFRS.js";
import "./chunk-RXO7GQ3N.js";
import "./chunk-5AOVEIXE.js";
import "./chunk-LVKKFDTK.js";
import "./chunk-7VZVROAP.js";
import "./chunk-75NPQ5B3.js";
import {
  getDisplayName,
  getInitials
} from "./chunk-Z4C4ZKID.js";
import "./chunk-ZVKJBZGR.js";
import "./chunk-P4NDXK35.js";
import "./chunk-APCJ2JZB.js";
import "./chunk-O7FOBNC7.js";
import "./chunk-X7U7W3G6.js";
import "./chunk-5PM4AA42.js";
import "./chunk-72TYFCHJ.js";
import {
  useTracking
} from "./chunk-QD3FERH6.js";
import "./chunk-FU5ETCT2.js";
import "./chunk-TYC2NXUR.js";
import "./chunk-OLSJ6G7T.js";
import "./chunk-2QNDFUCE.js";
import "./chunk-43FF5JHV.js";
import "./chunk-TEIH6PQ7.js";
import "./chunk-UAG3CHPO.js";
import {
  useAuth
} from "./chunk-DVBC7AZV.js";
import "./chunk-QW7FPIZ5.js";
import "./chunk-O43PIL7I.js";
import "./chunk-VEYJJUJN.js";
import "./chunk-EF4UWISF.js";
import "./chunk-M6YLF25H.js";
import {
  Avatar,
  Badge,
  Box,
  Flex,
  Typography
} from "./chunk-Y2LDGBFO.js";
import "./chunk-53POI7IS.js";
import "./chunk-ZBPTG6SW.js";
import "./chunk-IO3VP5IE.js";
import "./chunk-3DRZIGZ7.js";
import "./chunk-MBK4V2X7.js";
import "./chunk-JBETOYCV.js";
import "./chunk-K65KIEAL.js";
import "./chunk-SBDL6J4T.js";
import "./chunk-6QBME3X6.js";
import "./chunk-57WDCADH.js";
import "./chunk-XUB42PRF.js";
import "./chunk-EGNP2T5O.js";
import "./chunk-EYPLXPYB.js";
import "./chunk-HYAPEEEA.js";
import "./chunk-YXDCVYVT.js";
import "./chunk-VYSYYPOB.js";
import "./chunk-MQTX2EPM.js";
import "./chunk-XIWU657M.js";
import "./chunk-ROXOEY4R.js";
import "./chunk-CE4VABH2.js";
import "./chunk-QOUV5O5E.js";
import {
  useIntl
} from "./chunk-W7N7G5WV.js";
import "./chunk-5ZC4PE57.js";
import {
  Link
} from "./chunk-S65ZWNEO.js";
import "./chunk-FOD4ENRR.js";
import {
  ForwardRef$1,
  ForwardRef$1E,
  ForwardRef$1J,
  ForwardRef$1Z,
  ForwardRef$1i,
  ForwardRef$1j,
  ForwardRef$1o,
  ForwardRef$6
} from "./chunk-MTLQ2DBT.js";
import {
  require_jsx_runtime
} from "./chunk-NIAJZ5MX.js";
import {
  dt
} from "./chunk-3CQBCJ3G.js";
import "./chunk-MADUDGYZ.js";
import {
  __toESM
} from "./chunk-PLDDJCW6.js";

// node_modules/@strapi/plugin-documentation/node_modules/@strapi/admin/dist/admin/admin/src/components/Widgets.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var DisplayNameTypography = dt(Typography)`
  font-size: 2.4rem;
`;
var ProfileWidget = () => {
  var _a, _b;
  const user = useAuth("User", (state) => state.user);
  const userDisplayName = getDisplayName(user);
  const initials = getInitials(user);
  return (0, import_jsx_runtime.jsxs)(Flex, {
    direction: "column",
    gap: 3,
    height: "100%",
    justifyContent: "center",
    children: [
      (0, import_jsx_runtime.jsx)(Avatar.Item, {
        delayMs: 0,
        fallback: initials
      }),
      userDisplayName && (0, import_jsx_runtime.jsx)(DisplayNameTypography, {
        fontWeight: "bold",
        textTransform: "none",
        textAlign: "center",
        children: userDisplayName
      }),
      (user == null ? void 0 : user.email) && (0, import_jsx_runtime.jsx)(Typography, {
        variant: "omega",
        textColor: "neutral600",
        children: user == null ? void 0 : user.email
      }),
      ((_a = user == null ? void 0 : user.roles) == null ? void 0 : _a.length) && (0, import_jsx_runtime.jsx)(Flex, {
        marginTop: 2,
        gap: 1,
        wrap: "wrap",
        children: (_b = user == null ? void 0 : user.roles) == null ? void 0 : _b.map((role) => (0, import_jsx_runtime.jsx)(Badge, {
          children: role.name
        }, role.id))
      })
    ]
  });
};
var Grid = dt(Box)`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
  border: 1px solid ${({ theme }) => theme.colors.neutral200};
  border-radius: ${({ theme }) => theme.borderRadius};
  overflow: hidden;
`;
var GridCell = dt(Box)`
  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral200};
  border-right: 1px solid ${({ theme }) => theme.colors.neutral200};
  display: flex;
  flex-direction: row;
  align-items: flex-start;

  &:nth-child(2n) {
    border-right: none;
  }
  &:nth-last-child(-n + 2) {
    border-bottom: none;
  }
`;
var formatNumber = ({ locale, number }) => {
  return new Intl.NumberFormat(locale, {
    notation: "compact",
    maximumFractionDigits: 1
  }).format(number);
};
var LinkCell = dt(Link)`
  text-decoration: none;
  padding: ${({ theme }) => theme.spaces[3]};
`;
var KeyStatisticsWidget = () => {
  const { trackUsage } = useTracking();
  const { formatMessage, locale } = useIntl();
  const { data: countDocuments, isLoading: isLoadingCountDocuments } = useGetCountDocumentsQuery();
  const { data: countKeyStatistics, isLoading: isLoadingKeyStatistics } = useGetKeyStatisticsQuery();
  if (isLoadingKeyStatistics || isLoadingCountDocuments) {
    return (0, import_jsx_runtime.jsx)(Widget.Loading, {});
  }
  if (!countKeyStatistics || !countDocuments) {
    return (0, import_jsx_runtime.jsx)(Widget.Error, {});
  }
  const keyStatisticsList = {
    entries: {
      label: {
        id: "widget.key-statistics.list.entries",
        defaultMessage: "Entries"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1J, {}),
        background: "primary100",
        color: "primary600"
      },
      link: "/content-manager"
    },
    assets: {
      label: {
        id: "widget.key-statistics.list.assets",
        defaultMessage: "Assets"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1o, {}),
        background: "warning100",
        color: "warning600"
      },
      link: "/plugins/upload"
    },
    contentTypes: {
      label: {
        id: "widget.key-statistics.list.contentTypes",
        defaultMessage: "Content-Types"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1i, {}),
        background: "secondary100",
        color: "secondary600"
      },
      link: "/plugins/content-type-builder"
    },
    components: {
      label: {
        id: "widget.key-statistics.list.components",
        defaultMessage: "Components"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1E, {}),
        background: "alternative100",
        color: "alternative600"
      },
      link: "/plugins/content-type-builder"
    },
    locales: {
      label: {
        id: "widget.key-statistics.list.locales",
        defaultMessage: "Locales"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1Z, {}),
        background: "success100",
        color: "success600"
      },
      link: "/settings/internationalization"
    },
    admins: {
      label: {
        id: "widget.key-statistics.list.admins",
        defaultMessage: "Admins"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$6, {}),
        background: "danger100",
        color: "danger600"
      },
      link: "/settings/users?pageSize=10&page=1&sort=firstname"
    },
    webhooks: {
      label: {
        id: "widget.key-statistics.list.webhooks",
        defaultMessage: "Webhooks"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1, {}),
        background: "alternative100",
        color: "alternative600"
      },
      link: "/settings/webhooks"
    },
    apiTokens: {
      label: {
        id: "widget.key-statistics.list.apiTokens",
        defaultMessage: "API Tokens"
      },
      icon: {
        component: (0, import_jsx_runtime.jsx)(ForwardRef$1j, {}),
        background: "neutral100",
        color: "neutral600"
      },
      link: "/settings/api-tokens?sort=name:ASC"
    }
  };
  const { draft, published, modified } = countDocuments ?? {
    draft: 0,
    published: 0,
    modified: 0
  };
  const totalCountEntries = draft + published + modified;
  return (0, import_jsx_runtime.jsx)(Grid, {
    children: Object.entries(keyStatisticsList).map(([key, item]) => {
      const value = countKeyStatistics == null ? void 0 : countKeyStatistics[key];
      return value !== null && (0, import_jsx_runtime.jsx)(GridCell, {
        as: LinkCell,
        to: item.link,
        "data-testid": `stat-${key}`,
        onClick: () => trackUsage("didOpenKeyStatisticsWidgetLink", {
          itemKey: key
        }),
        children: (0, import_jsx_runtime.jsxs)(Flex, {
          alignItems: "center",
          gap: 2,
          children: [
            (0, import_jsx_runtime.jsx)(Flex, {
              padding: 2,
              borderRadius: 1,
              background: item.icon.background,
              color: item.icon.color,
              children: item.icon.component
            }),
            (0, import_jsx_runtime.jsxs)(Flex, {
              direction: "column",
              alignItems: "flex-start",
              children: [
                (0, import_jsx_runtime.jsx)(Typography, {
                  variant: "pi",
                  fontWeight: "bold",
                  textColor: "neutral500",
                  children: formatMessage(item.label)
                }),
                (0, import_jsx_runtime.jsx)(Typography, {
                  variant: "omega",
                  fontWeight: "bold",
                  textColor: "neutral800",
                  children: formatNumber({
                    locale,
                    number: key === "entries" ? totalCountEntries : value
                  })
                })
              ]
            })
          ]
        })
      }, `key-statistics-${key}`);
    })
  });
};
export {
  KeyStatisticsWidget,
  ProfileWidget
};
//# sourceMappingURL=Widgets-BL36E4WN.js.map
